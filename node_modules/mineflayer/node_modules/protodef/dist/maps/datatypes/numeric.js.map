{"version":3,"sources":["datatypes/numeric.js"],"names":[],"mappings":"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","file":"datatypes/numeric.js","sourcesContent":["var { PartialReadError} = require('../utils');\n\nfunction readI64(buffer, offset) {\n  if(offset + 8 > buffer.length)\n    throw new PartialReadError();\n  return {\n    value: [buffer.readInt32BE(offset), buffer.readInt32BE(offset + 4)],\n    size: 8\n  };\n}\n\nfunction writeI64(value, buffer, offset) {\n  buffer.writeInt32BE(value[0], offset);\n  buffer.writeInt32BE(value[1], offset + 4);\n  return offset + 8;\n}\n\nfunction readLI64(buffer, offset) {\n  if(offset + 8 > buffer.length)\n    throw new PartialReadError();\n  return {\n    value: [buffer.readInt32LE(offset+4), buffer.readInt32LE(offset)],\n    size: 8\n  };\n}\n\nfunction writeLI64(value, buffer, offset) {\n  buffer.writeInt32LE(value[0], offset+4);\n  buffer.writeInt32LE(value[1], offset);\n  return offset + 8;\n}\n\nfunction readU64(buffer, offset) {\n  if(offset + 8 > buffer.length)\n    throw new PartialReadError();\n  return {\n    value: [buffer.readUInt32BE(offset), buffer.readUInt32BE(offset + 4)],\n    size: 8\n  };\n}\n\nfunction writeU64(value, buffer, offset) {\n  buffer.writeUInt32BE(value[0], offset);\n  buffer.writeUInt32BE(value[1], offset + 4);\n  return offset + 8;\n}\n\nfunction readLU64(buffer, offset) {\n  if(offset + 8 > buffer.length)\n    throw new PartialReadError();\n  return {\n    value: [buffer.readUInt32LE(offset+4), buffer.readUInt32LE(offset)],\n    size: 8\n  };\n}\n\nfunction writeLU64(value, buffer, offset) {\n  buffer.writeUInt32LE(value[0], offset+4);\n  buffer.writeUInt32LE(value[1], offset);\n  return offset + 8;\n}\n\nfunction generateFunctions(bufferReader,bufferWriter,size)\n{\n  var reader=function(buffer, offset)\n  {\n    if(offset + size > buffer.length)\n      throw new PartialReadError();\n    var value = buffer[bufferReader](offset);\n    return {\n      value: value,\n      size: size\n    };\n  };\n  var writer=function(value, buffer, offset) {\n    buffer[bufferWriter](value, offset);\n    return offset + size;\n  };\n  return [reader, writer, size];\n}\n\nvar nums= {\n  'i8': [\"readInt8\", \"writeInt8\", 1],\n  'u8': [\"readUInt8\", \"writeUInt8\", 1],\n  'i16': [\"readInt16BE\", \"writeInt16BE\", 2],\n  'u16': [\"readUInt16BE\", \"writeUInt16BE\", 2],\n  'i32': [\"readInt32BE\", \"writeInt32BE\", 4],\n  'u32': [\"readUInt32BE\", \"writeUInt32BE\", 4],\n  'f32': [\"readFloatBE\", \"writeFloatBE\", 4],\n  'f64': [\"readDoubleBE\", \"writeDoubleBE\", 8],\n  'li8': [\"readInt8\", \"writeInt8\", 1],\n  'lu8': [\"readUInt8\", \"writeUInt8\", 1],\n  'li16': [\"readInt16LE\", \"writeInt16LE\", 2],\n  'lu16': [\"readUInt16LE\", \"writeUInt16LE\", 2],\n  'li32': [\"readInt32LE\", \"writeInt32LE\", 4],\n  'lu32': [\"readUInt32LE\", \"writeUInt32LE\", 4],\n  'lf32': [\"readFloatLE\", \"writeFloatLE\", 4],\n  'lf64': [\"readDoubleLE\", \"writeDoubleLE\", 8]\n};\n\nvar types=Object.keys(nums).reduce(function(types,num){\n  types[num]=generateFunctions(nums[num][0], nums[num][1], nums[num][2]);\n  return types;\n},{});\ntypes[\"i64\"]=[readI64, writeI64, 8];\ntypes[\"li64\"]=[readLI64, writeLI64, 8];\ntypes[\"u64\"]=[readU64, writeU64, 8];\ntypes[\"lu64\"]=[readLU64, writeLU64, 8];\n\n\nmodule.exports = types;\n"],"sourceRoot":"/source/"}